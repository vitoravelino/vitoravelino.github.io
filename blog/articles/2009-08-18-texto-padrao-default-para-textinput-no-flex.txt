title: "Texto padrão/default para TextInput no Flex"
slug: texto-padrao-default-para-textinput-no-flex
author: Vítor Avelino
date: 2009/08/18

Mais uma necessidade de uma das aplicações que desenvolvo e que gostaria de compartilhar. É um simples *textinput* que caso não tenha nenhum valor inserido nele, será determinado um valor padrão/default para que tipo de informação deve ser inserida ali. Isso muito acontece em sistemas que possuem um campo de busca onde não há um label ou botão inferindo que aquele campo será utilizado para uma busca.

Bem, foi isso que fiz. Segue abaixo o código:

<pre>
    <code class="prettyprint">
package net.vitoravelino {
    // imports...
    public class TextDefaultInput extends TextInput
    {
        private var _defaultText:String = &quot;&quot;; // caso não seja setado nada pelo desenvolvedor

        public function TextDefaultInput() {
            super();
            this.addEventListener(FlexEvent.CREATION_COMPLETE, function(evt:FlexEvent):void {
                setDefaultText();
            });
        }

        public function get defaultText():String {
            return this._defaultText;
        }

        public function set defaultText(s:String):void {
            this._defaultText = s;
        }

        override protected function focusInHandler(event:FocusEvent):void {
            super.focusInHandler(event);
            this.setStyle(&quot;color&quot;, 0x0B333C);
            if (this.text == DEFAULT_TEXT) {
                this.text = &quot;&quot;;
            }
        }

        override protected function focusOutHandler(event:FocusEvent):void {
            super.focusOutHandler(event);
            setDefaultText();
        }

        private function setDefaultText():void {
            if (this.text == &quot;&quot;) {
                this.text = DEFAULT_TEXT;
                this.setStyle(&quot;color&quot;, 0xCCCCCC);
            }
        }
    }
}
    </code>
</pre>

Extendemos o componente TextInput e sobrescrevemos os métodos *focusInHandler* e *focusOutHandler*. O componente TextInput possui um *listener* para os eventos de *focusIn* e *focusOut*. Quando *focusIn* acontece, o componente estará pronto para ser utilizado de fato, ou seja, o usuário pode digitar qualquer texto. O *focusOut* acontece quando o foco principal já não é mais o campo e sim outro componente. Aproveitando-se desses dois eventos é que colocamos um texto padrão/default indicando que o usuário pode  inserir um texto  para uma determinada operação. Também nos aproveitamos do *creationComplete* para assim que o componente estiver pronto para ser utilizado, já estará setado o texto padrão/defaul.

Confira a <a href="http://dev.vitoravelino.net/flex/2/TextDefaultInput.html" target="_blank">demo</a> e <a href="http://dev.vitoravelino.net/flex/2/srcview/index.html" target="_blank">source</a>.
